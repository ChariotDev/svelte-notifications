function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n,e){if(t){const o=f(t,n,e);return t[0](o)}}function f(t,e,o){return t[1]?n({},n(e.$$scope.ctx,t[1](o?o(e):{}))):e.$$scope.ctx}function a(t,e,o,i){return t[1]?n({},n(e.$$scope.changed||{},t[1](i?i(o):{}))):e.$$scope.changed||{}}function l(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function h(){return p("")}function g(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}let v;function b(t){v=t}function y(){if(!v)throw new Error("Function called outside component initialization");return v}const x=[],N=Promise.resolve();let _=!1;const w=[],k=[],E=[];function j(t){k.push(t)}function A(){const t=new Set;do{for(;x.length;){const t=x.shift();b(t),M(t.$$)}for(;w.length;)w.shift()();for(;k.length;){const n=k.pop();t.has(n)||(n(),t.add(n))}}while(x.length);for(;E.length;)E.pop()();_=!1}function M(t){t.fragment&&(t.update(t.dirty),i(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(j))}let O;function T(){O={remaining:0,callbacks:[]}}function C(){O.remaining||i(O.callbacks)}function S(t){O.callbacks.push(t)}function B(t,n){S(()=>{!function(t,n){t.d(1),n.delete(t.key)}(t,n)}),t.o(1)}function H(t,n,o){const{fragment:c,on_mount:s,on_destroy:f,after_render:a}=t.$$;c.m(n,o),j(()=>{const n=s.map(e).filter(r);f?f.push(...n):i(n),t.$$.on_mount=[]}),a.forEach(j)}function L(t,n){t.$$.dirty||(x.push(t),_||(_=!0,N.then(A)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function q(n,e,r,c,s,f){const a=v;b(n);const l=e.props||{},u=n.$$={fragment:null,ctx:null,props:f,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:null};let $=!1;u.ctx=r?r(n,l,(t,e)=>{u.ctx&&s(u.ctx[t],u.ctx[t]=e)&&(u.bound[t]&&u.bound[t](e),$&&L(n,t))}):l,u.update(),$=!0,i(u.before_render),u.fragment=c(u.ctx),e.target&&(e.hydrate?u.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):u.fragment.c(),e.intro&&n.$$.fragment.i&&n.$$.fragment.i(),H(n,e.target,e.anchor),A()),b(a)}class z{$destroy(){var n,e;e=!0,(n=this).$$&&(i(n.$$.on_destroy),n.$$.fragment.d(e),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const D={subscribe:null,addNotification:null,removeNotification:null,clearNotifications:null},F=()=>(function(t){return y().$$.context.get(t)})(D);function P(t){var n,e,o,i,r,c,h,v=t.notification.text;const b=t.$$slots.default,y=s(b,t,null);return{c(){var c,s,f,a;n=d("div"),e=d("div"),y||(o=p(v)),y&&y.c(),i=m(),(r=d("button")).textContent="Ã—",e.className="notification-content svelte-5jc8n0",g(r,"aria-label","delete notification"),r.className="svelte-5jc8n0",n.className="notification svelte-5jc8n0",g(n,"role","status"),g(n,"aria-live","polite"),c=r,s="click",f=t.removeNotificationHandler,c.addEventListener(s,f,a),h=()=>c.removeEventListener(s,f,a)},l(t){y&&y.l(div0_nodes)},m(t,s){u(t,n,s),l(n,e),y?y.m(e,null):l(e,o),l(n,i),l(n,r),c=!0},p(t,n){y||c&&!t.notification||v===(v=n.notification.text)||function(t,n){n=""+n,t.data!==n&&(t.data=n)}(o,v),y&&y.p&&t.$$scope&&y.p(a(b,n,t,null),f(b,n,null))},i(t){c||(y&&y.i&&y.i(t),c=!0)},o(t){y&&y.o&&y.o(t),c=!1},d(t){t&&$(n),y&&y.d(t),h()}}}function G(t,n,e){let{notification:o}=n;const{removeNotification:i}=F(),{id:r,removeAfter:c}=o,s=()=>i(r);let f=null;var a;c&&(f=setTimeout(s,c)),a=()=>{c&&f&&clearTimeout(f)},y().$$.on_destroy.push(a);let{$$slots:l={},$$scope:u}=n;return t.$set=t=>{"notification"in t&&e("notification",o=t.notification),"$$scope"in t&&e("$$scope",u=t.$$scope)},{notification:o,removeNotificationHandler:s,$$slots:l,$$scope:u}}class I extends z{constructor(t){super(),q(this,t,G,P,c,["notification"])}}const J=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],K=(t,n)=>{if(!(t=>!(!t||!t.text||"string"!=typeof t.text||!J.includes(t.position)))(t))throw new Error("");const{id:e=(new Date).getTime(),removeAfter:o=+t.removeAfter,...i}=t;n(t=>[...t,{id:e,removeAfter:o,...i}])};var Q=(()=>{const{subscribe:n,set:e,update:o}=function(n,e=t){let o;const i=[];function r(t){if(c(n,t)){if(n=t,!o)return;i.forEach(t=>t[1]()),i.forEach(t=>t[0](n))}}return{set:r,update:function(t){r(t(n))},subscribe:function(c,s=t){const f=[c,s];return i.push(f),1===i.length&&(o=e(r)||t),c(n),()=>{const t=i.indexOf(f);-1!==t&&i.splice(t,1),0===i.length&&o()}}}}([]);return{subscribe:n,addNotification:t=>K(t,o),removeNotification:t=>((t,n)=>n(n=>n.filter(n=>n.id!==t)))(t,o),clearNotifications:()=>(t=>t([]))(e)}})();function R(t,n,e){const o=Object.create(t);return o.notification=n[e],o}function U(t,n,e){const o=Object.create(t);return o.position=n[e],o}function V(t){var n,e,o,i,r=[X,W],c=[];function s(t){return t.item?0:1}return n=s(t),e=c[n]=r[n](t),{c(){e.c(),o=h()},m(t,e){c[n].m(t,e),u(t,o,e),i=!0},p(t,i){var f=n;(n=s(i))===f?c[n].p(t,i):(T(),S(()=>{c[f].d(1),c[f]=null}),e.o(1),C(),(e=c[n])||(e=c[n]=r[n](i)).c(),e.i(1),e.m(o.parentNode,o))},i(t){i||(e&&e.i(),i=!0)},o(t){e&&e.o(),i=!1},d(t){c[n].d(t),t&&$(o)}}}function W(t){var n,e=new I({props:{notification:t.notification}});return{c(){e.$$.fragment.c()},m(t,o){H(e,t,o),n=!0},p(t,n){var o={};t.$store&&(o.notification=n.notification),e.$set(o)},i(t){n||(e.$$.fragment.i(t),n=!0)},o(t){e.$$.fragment.o(t),n=!1},d(t){e.$destroy(t)}}}function X(t){var n,e,o=t.item;function i(t){return{props:{notification:t.notification}}}if(o)var r=new o(i(t));return{c(){r&&r.$$.fragment.c(),n=h()},m(t,o){r&&H(r,t,o),u(t,n,o),e=!0},p(t,e){var c={};if(t.$store&&(c.notification=e.notification),o!==(o=e.item)){if(r){T();const t=r;S(()=>{t.$destroy()}),t.$$.fragment.o(1),C()}o?((r=new o(i(e))).$$.fragment.c(),r.$$.fragment.i(1),H(r,n.parentNode,n)):r=null}else o&&r.$set(c)},i(t){e||(r&&r.$$.fragment.i(t),e=!0)},o(t){r&&r.$$.fragment.o(t),e=!1},d(t){t&&$(n),r&&r.$destroy(t)}}}function Y(t,n){var e,o,i,r=n.notification.position===n.position&&V(n);return{key:t,first:null,c(){e=h(),r&&r.c(),o=h(),this.first=e},m(t,n){u(t,e,n),r&&r.m(t,n),u(t,o,n),i=!0},p(t,n){n.notification.position===n.position?r?(r.p(t,n),r.i(1)):((r=V(n)).c(),r.i(1),r.m(o.parentNode,o)):r&&(T(),S(()=>{r.d(1),r=null}),r.o(1),C())},i(t){i||(r&&r.i(),i=!0)},o(t){r&&r.o(),i=!1},d(t){t&&$(e),r&&r.d(t),t&&$(o)}}}function Z(t){var n,e,o,i,r=[],c=new Map,s=t.$store;const f=t=>t.notification.id;for(var a=0;a<s.length;a+=1){let n=R(t,s,a),e=f(n);c.set(e,r[a]=Y(e,n))}return{c(){for(n=d("div"),e=d("div"),a=0;a<r.length;a+=1)r[a].c();o=m(),n.className=`position-${t.position}`+" svelte-105343x"},m(t,c){for(u(t,n,c),l(n,e),a=0;a<r.length;a+=1)r[a].m(e,null);l(n,o),i=!0},p(t,n){const o=n.$store;T(),r=function(t,n,e,o,i,r,c,s,f,a,l,u){let $=t.length,d=r.length,p=$;const m={};for(;p--;)m[t[p].key]=p;const h=[],g=new Map,v=new Map;for(p=d;p--;){const t=u(i,r,p),s=e(t);let f=c.get(s);f?o&&f.p(n,t):(f=a(s,t)).c(),g.set(s,h[p]=f),s in m&&v.set(s,Math.abs(p-m[s]))}const b=new Set,y=new Set;function x(t){t.i&&t.i(1),t.m(s,l),c.set(t.key,t),l=t.first,d--}for(;$&&d;){const n=h[d-1],e=t[$-1],o=n.key,i=e.key;n===e?(l=n.first,$--,d--):g.has(i)?!c.has(o)||b.has(o)?x(n):y.has(i)?$--:v.get(o)>v.get(i)?(y.add(o),x(n)):(b.add(i),$--):(f(e,c),$--)}for(;$--;){const n=t[$];g.has(n.key)||f(n,c)}for(;d;)x(h[d-1]);return h}(r,t,f,1,n,o,c,e,B,Y,null,R),C()},i(t){if(!i){for(var n=0;n<s.length;n+=1)r[n].i();i=!0}},o(t){for(a=0;a<r.length;a+=1)r[a].o();i=!1},d(t){for(t&&$(n),a=0;a<r.length;a+=1)r[a].d()}}}function tt(t){var n,e,o;const i=t.$$slots.default,r=s(i,t,null);for(var c=J,l=[],p=0;p<c.length;p+=1)l[p]=Z(U(t,c,p));function h(t,n,e){l[t]&&(n&&S(()=>{l[t].d(n),l[t]=null}),l[t].o(e))}return{c(){r&&r.c(),n=m(),e=d("div");for(var t=0;t<l.length;t+=1)l[t].c();e.className="notifications"},l(t){r&&r.l(t)},m(t,i){r&&r.m(t,i),u(t,n,i),u(t,e,i);for(var c=0;c<l.length;c+=1)l[c].m(e,null);o=!0},p(t,n){if(r&&r.p&&t.$$scope&&r.p(a(i,n,t,null),f(i,n,null)),t.positions||t.$store||t.item){c=J;for(var o=0;o<c.length;o+=1){const i=U(n,c,o);l[o]?(l[o].p(t,i),l[o].i(1)):(l[o]=Z(i),l[o].c(),l[o].i(1),l[o].m(e,null))}for(T();o<l.length;o+=1)h(o,1,1);C()}},i(t){if(!o){r&&r.i&&r.i(t);for(var n=0;n<c.length;n+=1)l[n].i();o=!0}},o(t){r&&r.o&&r.o(t),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)h(t,0,0);o=!1},d(t){r&&r.d(t),t&&($(n),$(e)),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(l,t)}}}function nt(t,n,e){let o;!function(t,n,e){const o=n.subscribe(e);t.$$.on_destroy.push(o.unsubscribe?()=>o.unsubscribe():o)}(t,Q,t=>{e("$store",o=t)});let{item:i=null}=n;!function(t,n){y().$$.context.set(t,n)}(D,Q);let{$$slots:r={},$$scope:c}=n;return t.$set=t=>{"item"in t&&e("item",i=t.item),"$$scope"in t&&e("$$scope",c=t.$$scope)},{item:i,$store:o,$$slots:r,$$scope:c}}export default class extends z{constructor(t){super(),q(this,t,nt,tt,c,["item"])}}export{F as getNotificationsContext};

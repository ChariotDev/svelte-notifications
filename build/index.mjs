function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n,e){if(t){const o=f(t,n,e);return t[0](o)}}function f(t,e,o){return t[1]?n({},n(e.$$scope.ctx,t[1](o?o(e):{}))):e.$$scope.ctx}function a(t,e,o,i){return t[1]?n({},n(e.$$scope.changed||{},t[1](i?i(o):{}))):e.$$scope.changed||{}}function u(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function h(){return p("")}function g(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}let v;function b(t){v=t}function x(){if(!v)throw new Error("Function called outside component initialization");return v}const y=[],w=Promise.resolve();let _=!1;const k=[],E=[],I=[];function N(t){E.push(t)}function A(){const t=new Set;do{for(;y.length;){const t=y.shift();b(t),q(t.$$)}for(;k.length;)k.shift()();for(;E.length;){const n=E.pop();t.has(n)||(n(),t.add(n))}}while(y.length);for(;I.length;)I.pop()();_=!1}function q(t){t.fragment&&(t.update(t.dirty),i(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(N))}const M=new Set;let O;function j(){O={remaining:0,callbacks:[]}}function C(){O.remaining||i(O.callbacks)}function S(t,n){t&&t.i&&(M.delete(t),t.i(n))}function T(t,n,e){if(t&&t.o){if(M.has(t))return;M.add(t),O.callbacks.push(()=>{M.delete(t),e&&(t.d(1),e())}),t.o(n)}}function B(t,n){T(t,1,()=>{!function(t,n){t.d(1),n.delete(t.key)}(t,n)})}function L(t,n,o){const{fragment:c,on_mount:s,on_destroy:f,after_render:a}=t.$$;c.m(n,o),N(()=>{const n=s.map(e).filter(r);f?f.push(...n):i(n),t.$$.on_mount=[]}),a.forEach(N)}function z(t,n){t.$$.fragment&&(i(t.$$.on_destroy),n&&t.$$.fragment.d(1),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function D(t,n){t.$$.dirty||(y.push(t),_||(_=!0,w.then(A)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function F(n,e,r,c,s,f){const a=v;b(n);const u=e.props||{},l=n.$$={fragment:null,ctx:null,props:f,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:null};let $=!1;l.ctx=r?r(n,u,(t,e)=>{l.ctx&&s(l.ctx[t],l.ctx[t]=e)&&(l.bound[t]&&l.bound[t](e),$&&D(n,t))}):u,l.update(),$=!0,i(l.before_render),l.fragment=c(l.ctx),e.target&&(e.hydrate?l.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):l.fragment.c(),e.intro&&S(n.$$.fragment),L(n,e.target,e.anchor),A()),b(a)}class P{$destroy(){z(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const G={};var H=()=>(function(t){return x().$$.context.get(t)})(G);function J(t){var n,e,o,i,r,c,h,v=t.notification.text;const b=t.$$slots.default,x=s(b,t,null);return{c(){var c,s,f,a;n=d("div"),e=d("div"),x||(o=p(v)),x&&x.c(),i=m(),(r=d("button")).textContent="Ã—",g(e,"class","notification-context svelte-1xquvfe"),g(r,"class","svelte-1xquvfe"),g(n,"class","notification svelte-1xquvfe"),c=r,s="click",f=t.removeNotifications,c.addEventListener(s,f,a),h=()=>c.removeEventListener(s,f,a)},l(t){x&&x.l(div0_nodes)},m(t,s){l(t,n,s),u(n,e),x?x.m(e,null):u(e,o),u(n,i),u(n,r),c=!0},p(t,n){x||c&&!t.notification||v===(v=n.notification.text)||function(t,n){n=""+n,t.data!==n&&(t.data=n)}(o,v),x&&x.p&&t.$$scope&&x.p(a(b,n,t,null),f(b,n,null))},i(t){c||(S(x,t),c=!0)},o(t){T(x,t),c=!1},d(t){t&&$(n),x&&x.d(t),h()}}}function K(t,n,e){let{notification:o}=n,i=null;const{id:r,removeAfter:c}=o,{remove:s}=H(),f=()=>s(r);var a;c&&(i=setTimeout(f,c)),a=()=>{c&&i&&clearTimeout(i)},x().$$.on_destroy.push(a);let{$$slots:u={},$$scope:l}=n;return t.$set=t=>{"notification"in t&&e("notification",o=t.notification),"$$scope"in t&&e("$$scope",l=t.$$scope)},{notification:o,removeNotifications:f,$$slots:u,$$scope:l}}class Q extends P{constructor(t){super(),F(this,t,K,J,c,["notification"])}}const R=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],U=(t,n)=>{if(!(t=>!(!t||!t.text||"string"!=typeof t.text||!R.includes(t.position)))(t))throw new Error("");const{id:e=(new Date).getTime(),removeAfter:o=+t.removeAfter,...i}=t;n(t=>[...t,{id:e,removeAfter:o,...i}])};var V=(()=>{const{subscribe:n,set:e,update:o}=function(n,e=t){let o;const i=[];function r(t){if(c(n,t)){if(n=t,!o)return;i.forEach(t=>t[1]()),i.forEach(t=>t[0](n))}}return{set:r,update:function(t){r(t(n))},subscribe:function(c,s=t){const f=[c,s];return i.push(f),1===i.length&&(o=e(r)||t),c(n),()=>{const t=i.indexOf(f);-1!==t&&i.splice(t,1),0===i.length&&o()}}}}([]);return{subscribe:n,add:t=>U(t,o),remove:t=>((t,n)=>n(n=>n.filter(n=>n.id!==t)))(t,o),clear:()=>(t=>t([]))(e)}})();function W(t,n,e){const o=Object.create(t);return o.notification=n[e],o}function X(t,n,e){const o=Object.create(t);return o.position=n[e],o}function Y(t){var n,e,o,i,r=[tt,Z],c=[];function s(t){return t.notificationItem?0:1}return n=s(t),e=c[n]=r[n](t),{c(){e.c(),o=h()},m(t,e){c[n].m(t,e),l(t,o,e),i=!0},p(t,i){var f=n;(n=s(i))===f?c[n].p(t,i):(j(),T(c[f],1,()=>{c[f]=null}),C(),(e=c[n])||(e=c[n]=r[n](i)).c(),S(e,1),e.m(o.parentNode,o))},i(t){i||(S(e),i=!0)},o(t){T(e),i=!1},d(t){c[n].d(t),t&&$(o)}}}function Z(t){var n,e=new Q({props:{notification:t.notification}});return{c(){e.$$.fragment.c()},m(t,o){L(e,t,o),n=!0},p(t,n){var o={};t.$store&&(o.notification=n.notification),e.$set(o)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function tt(t){var n,e,o=t.notificationItem;function i(t){return{props:{notification:t.notification}}}if(o)var r=new o(i(t));return{c(){r&&r.$$.fragment.c(),n=h()},m(t,o){r&&L(r,t,o),l(t,n,o),e=!0},p(t,e){var c={};if(t.$store&&(c.notification=e.notification),o!==(o=e.notificationItem)){if(r){j();const t=r;T(t.$$.fragment,1,()=>{z(t)}),C()}o?((r=new o(i(e))).$$.fragment.c(),S(r.$$.fragment,1),L(r,n.parentNode,n)):r=null}else o&&r.$set(c)},i(t){e||(S(r.$$.fragment,t),e=!0)},o(t){r&&T(r.$$.fragment,t),e=!1},d(t){t&&$(n),r&&z(r,t)}}}function nt(t,n){var e,o,i,r=n.notification.position===n.position&&Y(n);return{key:t,first:null,c(){e=h(),r&&r.c(),o=h(),this.first=e},m(t,n){l(t,e,n),r&&r.m(t,n),l(t,o,n),i=!0},p(t,n){n.notification.position===n.position?r?(r.p(t,n),S(r,1)):((r=Y(n)).c(),S(r,1),r.m(o.parentNode,o)):r&&(j(),T(r,1,()=>{r=null}),C())},i(t){i||(S(r),i=!0)},o(t){T(r),i=!1},d(t){t&&$(e),r&&r.d(t),t&&$(o)}}}function et(t){var n,e,o,i=[],r=new Map,c=t.$store;const s=t=>t.notification.id;for(var f=0;f<c.length;f+=1){let n=W(t,c,f),e=s(n);r.set(e,i[f]=nt(e,n))}return{c(){for(n=d("div"),f=0;f<i.length;f+=1)i[f].c();e=m(),g(n,"class",`notification-${t.position}`+" svelte-45qhkl")},m(t,r){for(l(t,n,r),f=0;f<i.length;f+=1)i[f].m(n,null);u(n,e),o=!0},p(t,o){const c=o.$store;j(),i=function(t,n,e,o,i,r,c,s,f,a,u,l){let $=t.length,d=r.length,p=$;const m={};for(;p--;)m[t[p].key]=p;const h=[],g=new Map,v=new Map;for(p=d;p--;){const t=l(i,r,p),s=e(t);let f=c.get(s);f?o&&f.p(n,t):(f=a(s,t)).c(),g.set(s,h[p]=f),s in m&&v.set(s,Math.abs(p-m[s]))}const b=new Set,x=new Set;function y(t){S(t,1),t.m(s,u),c.set(t.key,t),u=t.first,d--}for(;$&&d;){const n=h[d-1],e=t[$-1],o=n.key,i=e.key;n===e?(u=n.first,$--,d--):g.has(i)?!c.has(o)||b.has(o)?y(n):x.has(i)?$--:v.get(o)>v.get(i)?(x.add(o),y(n)):(b.add(i),$--):(f(e,c),$--)}for(;$--;){const n=t[$];g.has(n.key)||f(n,c)}for(;d;)y(h[d-1]);return h}(i,t,s,1,o,c,r,n,B,nt,e,W),C()},i(t){if(!o){for(var n=0;n<c.length;n+=1)S(i[n]);o=!0}},o(t){for(f=0;f<i.length;f+=1)T(i[f]);o=!1},d(t){for(t&&$(n),f=0;f<i.length;f+=1)i[f].d()}}}function ot(t){var n,e,o;const i=t.$$slots.default,r=s(i,t,null);for(var c=R,u=[],p=0;p<c.length;p+=1)u[p]=et(X(t,c,p));const h=t=>T(u[t],1,()=>{u[t]=null});return{c(){r&&r.c(),n=m(),e=d("div");for(var t=0;t<u.length;t+=1)u[t].c();g(e,"class","notifications")},l(t){r&&r.l(t)},m(t,i){r&&r.m(t,i),l(t,n,i),l(t,e,i);for(var c=0;c<u.length;c+=1)u[c].m(e,null);o=!0},p(t,n){if(r&&r.p&&t.$$scope&&r.p(a(i,n,t,null),f(i,n,null)),t.positions||t.$store||t.notificationItem){c=R;for(var o=0;o<c.length;o+=1){const i=X(n,c,o);u[o]?(u[o].p(t,i),S(u[o],1)):(u[o]=et(i),u[o].c(),S(u[o],1),u[o].m(e,null))}for(j();o<u.length;o+=1)h(o);C()}},i(t){if(!o){S(r,t);for(var n=0;n<c.length;n+=1)S(u[n]);o=!0}},o(t){T(r,t),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)T(u[t]);o=!1},d(t){r&&r.d(t),t&&($(n),$(e)),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(u,t)}}}function it(t,n,e){let o;!function(t,n,e){const o=n.subscribe(e);t.$$.on_destroy.push(o.unsubscribe?()=>o.unsubscribe():o)}(t,V,t=>{e("$store",o=t)});let{notificationItem:i=null}=n;!function(t,n){x().$$.context.set(t,n)}(G,V);let{$$slots:r={},$$scope:c}=n;return t.$set=t=>{"notificationItem"in t&&e("notificationItem",i=t.notificationItem),"$$scope"in t&&e("$$scope",c=t.$$scope)},{notificationItem:i,$store:o,$$slots:r,$$scope:c}}class rt extends P{constructor(t){super(),F(this,t,it,ot,c,["notificationItem"])}}export{rt as Notifications,H as getContext};

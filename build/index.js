!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).Notifications={})}(this,function(t){"use strict";function n(){}function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(o)}function c(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n,e){if(t){const o=l(t,n,e);return t[0](o)}}function l(t,n,o){return t[1]?e({},e(n.$$scope.ctx,t[1](o?o(n):{}))):n.$$scope.ctx}function f(t,n,o,i){return t[1]?e({},e(n.$$scope.changed||{},t[1](i?i(o):{}))):n.$$scope.changed||{}}function a(t,n){t.appendChild(n)}function $(t,n,e){t.insertBefore(n,e||null)}function d(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function m(){return h(" ")}function g(){return h("")}function y(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}let v;function b(t){v=t}function w(){if(!v)throw new Error("Function called outside component initialization");return v}const x=[],S=[],_=[],N=[],k=Promise.resolve();let C=!1;function E(t){_.push(t)}function j(){const t=new Set;do{for(;x.length;){const t=x.shift();b(t),A(t.$$)}for(;S.length;)S.pop()();for(let n=0;n<_.length;n+=1){const e=_[n];t.has(e)||(e(),t.add(e))}_.length=0}while(x.length);for(;N.length;)N.pop()();C=!1}function A(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(E))}const M=new Set;let O;function T(){O={r:0,c:[],p:O}}function B(){O.r||r(O.c),O=O.p}function H(t,n){t&&t.i&&(M.delete(t),t.i(n))}function L(t,n,e,o){if(t&&t.o){if(M.has(t))return;M.add(t),O.c.push(()=>{M.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function P(t,n){L(t,1,1,()=>{n.delete(t.key)})}function q(t,n,e){const{fragment:i,on_mount:s,on_destroy:u,after_update:l}=t.$$;i.m(n,e),E(()=>{const n=s.map(o).filter(c);u?u.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(E)}function z(t,n){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function D(t,n){t.$$.dirty||(x.push(t),C||(C=!0,k.then(j)),t.$$.dirty=i()),t.$$.dirty[n]=!0}function F(t,e,o,c,s,u){const l=v;b(t);const f=e.props||{},a=t.$$={fragment:null,ctx:null,props:u,update:n,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:i(),dirty:null};let $=!1;a.ctx=o?o(t,f,(n,e)=>{a.ctx&&s(a.ctx[n],a.ctx[n]=e)&&(a.bound[n]&&a.bound[n](e),$&&D(t,n))}):f,a.update(),$=!0,r(a.before_update),a.fragment=c(a.ctx),e.target&&(e.hydrate?a.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):a.fragment.c(),e.intro&&H(t.$$.fragment),q(t,e.target,e.anchor),j()),b(l)}class G{$destroy(){z(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const I={subscribe:null,addNotification:null,removeNotification:null,clearNotifications:null},J=()=>(function(t){return w().$$.context.get(t)})(I);function K(t){var n,e,o,i,r,c,s,g;const v=t.$$slots.default,b=u(v,t,null);return{c(){var s,u,l,f;n=p("div"),e=p("div"),b||(o=h(t.text)),b&&b.c(),i=m(),r=p("button"),c=h("Ã—"),y(e,"class",t.getClass("content")+" svelte-15o48dh"),y(r,"class",t.getClass("button")+" svelte-15o48dh"),y(r,"aria-label","delete notification"),y(n,"class",t.getClass()+" svelte-15o48dh"),y(n,"role","status"),y(n,"aria-live","polite"),s=r,u="click",l=t.removeNotificationHandler,s.addEventListener(u,l,f),g=()=>s.removeEventListener(u,l,f)},l(t){b&&b.l(div0_nodes)},m(t,u){$(t,n,u),a(n,e),b?b.m(e,null):a(e,o),a(n,i),a(n,r),a(r,c),s=!0},p(t,n){b&&b.p&&t.$$scope&&b.p(f(v,n,t,null),l(v,n,null))},i(t){s||(H(b,t),s=!0)},o(t){L(b,t),s=!1},d(t){t&&d(n),b&&b.d(t),g()}}}function Q(t,n,e){let{notification:o={},withoutStyles:i=!1}=n;const{removeNotification:r}=J(),{id:c,text:s,removeAfter:u}=o,l=()=>r(c);let f=null;var a;u&&(f=setTimeout(l,u)),a=()=>{u&&f&&clearTimeout(f)},w().$$.on_destroy.push(a);let{$$slots:$={},$$scope:d}=n;return t.$set=t=>{"notification"in t&&e("notification",o=t.notification),"withoutStyles"in t&&e("withoutStyles",i=t.withoutStyles),"$$scope"in t&&e("$$scope",d=t.$$scope)},{notification:o,withoutStyles:i,text:s,getClass:t=>{const n=t?`-${t}`:"";return`notification${n}${i?"":` default-notification-style${n}`}`},removeNotificationHandler:l,$$slots:$,$$scope:d}}class R extends G{constructor(t){super(),F(this,t,Q,K,s,["notification","withoutStyles"])}}const U=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],V=(t,n)=>{if(!(t=>!(!t||!t.text||"string"!=typeof t.text||!U.includes(t.position)))(t))throw new Error("Notification object is not valid");const{id:e=(new Date).getTime(),removeAfter:o=+t.removeAfter,...i}=t;n(t=>[...t,{id:e,removeAfter:o,...i}])};var W=(()=>{const{subscribe:t,set:e,update:o}=function(t,e=n){let o;const i=[];function r(n){if(s(t,n)){if(t=n,!o)return;i.forEach(t=>t[1]()),i.forEach(n=>n[0](t))}}return{set:r,update:function(n){r(n(t))},subscribe:function(c,s=n){const u=[c,s];return i.push(u),1===i.length&&(o=e(r)||n),c(t),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}([]);return{subscribe:t,addNotification:t=>V(t,o),removeNotification:t=>((t,n)=>n(n=>n.filter(n=>n.id!==t)))(t,o),clearNotifications:()=>(t=>t([]))(e)}})();function X(t,n,e){const o=Object.create(t);return o.notification=n[e],o}function Y(t,n,e){const o=Object.create(t);return o.position=n[e],o}function Z(t){var n,e,o,i,r=[nt,tt],c=[];function s(t){return t.item?0:1}return n=s(t),e=c[n]=r[n](t),{c(){e.c(),o=g()},m(t,e){c[n].m(t,e),$(t,o,e),i=!0},p(t,i){var u=n;(n=s(i))===u?c[n].p(t,i):(T(),L(c[u],1,1,()=>{c[u]=null}),B(),(e=c[n])||(e=c[n]=r[n](i)).c(),H(e,1),e.m(o.parentNode,o))},i(t){i||(H(e),i=!0)},o(t){L(e),i=!1},d(t){c[n].d(t),t&&d(o)}}}function tt(t){var n,e=new R({props:{notification:t.notification,withoutStyles:t.withoutStyles}});return{c(){e.$$.fragment.c()},m(t,o){q(e,t,o),n=!0},p(t,n){var o={};t.$store&&(o.notification=n.notification),t.withoutStyles&&(o.withoutStyles=n.withoutStyles),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function nt(t){var n,e,o=t.item;function i(t){return{props:{notification:t.notification}}}if(o)var r=new o(i(t));return{c(){r&&r.$$.fragment.c(),n=g()},m(t,o){r&&q(r,t,o),$(t,n,o),e=!0},p(t,e){var c={};if(t.$store&&(c.notification=e.notification),o!==(o=e.item)){if(r){T();const t=r;L(t.$$.fragment,1,0,()=>{z(t,1)}),B()}o?((r=new o(i(e))).$$.fragment.c(),H(r.$$.fragment,1),q(r,n.parentNode,n)):r=null}else o&&r.$set(c)},i(t){e||(r&&H(r.$$.fragment,t),e=!0)},o(t){r&&L(r.$$.fragment,t),e=!1},d(t){t&&d(n),r&&z(r,t)}}}function et(t,n){var e,o,i,r=n.notification.position===n.position&&Z(n);return{key:t,first:null,c(){e=g(),r&&r.c(),o=g(),this.first=e},m(t,n){$(t,e,n),r&&r.m(t,n),$(t,o,n),i=!0},p(t,n){n.notification.position===n.position?r?(r.p(t,n),H(r,1)):((r=Z(n)).c(),H(r,1),r.m(o.parentNode,o)):r&&(T(),L(r,1,1,()=>{r=null}),B())},i(t){i||(H(r),i=!0)},o(t){L(r),i=!1},d(t){t&&d(e),r&&r.d(t),t&&d(o)}}}function ot(t){var n,e,o,i,r=[],c=new Map,s=t.$store;const u=t=>t.notification.id;for(var l=0;l<s.length;l+=1){let n=X(t,s,l),e=u(n);c.set(e,r[l]=et(e,n))}return{c(){for(n=p("div"),e=p("div"),l=0;l<r.length;l+=1)r[l].c();o=m(),y(n,"class",t.getClass(t.position)+" svelte-cogvif")},m(t,c){for($(t,n,c),a(n,e),l=0;l<r.length;l+=1)r[l].m(e,null);a(n,o),i=!0},p(t,n){const o=n.$store;T(),r=function(t,n,e,o,i,r,c,s,u,l,f,a){let $=t.length,d=r.length,p=$;const h={};for(;p--;)h[t[p].key]=p;const m=[],g=new Map,y=new Map;for(p=d;p--;){const t=a(i,r,p),s=e(t);let u=c.get(s);u?o&&u.p(n,t):(u=l(s,t)).c(),g.set(s,m[p]=u),s in h&&y.set(s,Math.abs(p-h[s]))}const v=new Set,b=new Set;function w(t){H(t,1),t.m(s,f),c.set(t.key,t),f=t.first,d--}for(;$&&d;){const n=m[d-1],e=t[$-1],o=n.key,i=e.key;n===e?(f=n.first,$--,d--):g.has(i)?!c.has(o)||v.has(o)?w(n):b.has(i)?$--:y.get(o)>y.get(i)?(b.add(o),w(n)):(v.add(i),$--):(u(e,c),$--)}for(;$--;){const n=t[$];g.has(n.key)||u(n,c)}for(;d;)w(m[d-1]);return m}(r,t,u,1,n,o,c,e,P,et,null,X),B()},i(t){if(!i){for(var n=0;n<s.length;n+=1)H(r[n]);i=!0}},o(t){for(l=0;l<r.length;l+=1)L(r[l]);i=!1},d(t){for(t&&d(n),l=0;l<r.length;l+=1)r[l].d()}}}function it(t){var n,e,o;const i=t.$$slots.default,r=u(i,t,null);for(var c=U,s=[],a=0;a<c.length;a+=1)s[a]=ot(Y(t,c,a));const h=t=>L(s[t],1,1,()=>{s[t]=null});return{c(){r&&r.c(),n=m(),e=p("div");for(var t=0;t<s.length;t+=1)s[t].c();y(e,"class","notifications")},l(t){r&&r.l(t)},m(t,i){r&&r.m(t,i),$(t,n,i),$(t,e,i);for(var c=0;c<s.length;c+=1)s[c].m(e,null);o=!0},p(t,n){if(r&&r.p&&t.$$scope&&r.p(f(i,n,t,null),l(i,n,null)),t.getClass||t.positions||t.$store||t.item||t.withoutStyles){c=U;for(var o=0;o<c.length;o+=1){const i=Y(n,c,o);s[o]?(s[o].p(t,i),H(s[o],1)):(s[o]=ot(i),s[o].c(),H(s[o],1),s[o].m(e,null))}for(T(),o=c.length;o<s.length;o+=1)h(o);B()}},i(t){if(!o){H(r,t);for(var n=0;n<c.length;n+=1)H(s[n]);o=!0}},o(t){L(r,t),s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)L(s[t]);o=!1},d(t){r&&r.d(t),t&&(d(n),d(e)),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(s,t)}}}function rt(t,n,e){let o;!function(t,n,e){const o=n.subscribe(e);t.$$.on_destroy.push(o.unsubscribe?()=>o.unsubscribe():o)}(t,W,t=>{e("$store",o=t)});let{item:i=null,withoutStyles:r=!1}=n;!function(t,n){w().$$.context.set(t,n)}(I,W);let{$$slots:c={},$$scope:s}=n;return t.$set=t=>{"item"in t&&e("item",i=t.item),"withoutStyles"in t&&e("withoutStyles",r=t.withoutStyles),"$$scope"in t&&e("$$scope",s=t.$$scope)},{item:i,withoutStyles:r,getClass:(t="")=>{return`position-${t}${r?"":` default-position-style-${t}`}`},$store:o,$$slots:c,$$scope:s}}t.default=class extends G{constructor(t){super(),F(this,t,rt,it,s,["item","withoutStyles"])}},t.getNotificationsContext=J,Object.defineProperty(t,"__esModule",{value:!0})});
